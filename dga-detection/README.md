## DGA Detection

### Use Case
Detection of domains created by domain generation algorithms

### Version
1.0

### Model Overview
This model is a recurrent neural network model trained to classify URL domains generated by Domain-Generation-Algorithms. Domain generation algorithms (DGA) are algorithms seen in various families of malware that are used to periodically generate a large number of domain names that can be used as rendezvous points with their command and control servers. The large number of potential rendezvous points makes it difficult for law enforcement to effectively shut down botnets, since infected computers will attempt to contact some of these domain names every day to receive updates or commands.

### Model Architecture
We use a type of recurrent neural network called the Gated Recurrent Unit (GRU) to train a model with up-to-date domain names representative of both benign and DGA generated strings.

### Requirements 
To run this example, additional requirements must be installed into your environment. A supplementary requirements file has been provided in this example directory.

```bash 
pip install -r requirements.txt
```

### Training

#### Training data

Training data consists of 116K labelled as DGA domains and 100K labelled as not DGA domains.

Two types of DGA domains (Banjori, Chinad) were generated based on the implementations on https://github.com/baderj/domain_generation_algorithms. 100000 benign domains were taken from https://www.domcop.com/files/top/top10milliondomains.csv.zip.

#### Training epochs
25

#### Training batch size
10000

#### GPU model
V100

#### Model accuracy
precision = 0.995 
ccuracy = 0.998

#### Training script

To train the model run the following script under working directory.
```bash
cd ${MORPHEUS_EXPERIMENTAL_ROOT}/dga-detection/training-tuning-inference

# Run training script and save models

python train.py --training-data ../datasets/benign_and_dga_domains.csv
```
This saves the trained model file to the `models` directory which will be created if does not already exist.
